<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fischer-Verein Arbon</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container nav-container">
      <a href="index.html" class="logo">
        <img src="assets/img/logo-fv-arbon.png" alt="Logo Fischer-Verein Arbon">
      </a>

      <div style="text-align: center; flex: 1; padding: 0 2rem;">
        <h1 style="margin: 0; font-size: 1.8rem; color: var(--color-text); line-height: 1.3;">Fischer-Verein Arbon</h1>
        <p style="margin: 0.25rem 0 0 0; font-size: 0.95rem; color: var(--color-muted);">Gemeinschaft, Natur und Fischerei am Bodensee – seit 1899.</p>
      </div>

      <button class="nav-toggle" aria-label="Menü öffnen">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Startseite</a></li>
          <li><a href="beitritt.html">Beitritt</a></li>
          <li><a href="fischerhaus.html">Fischerhaus</a></li>
          <li><a href="jungfischer.html">Jungfischer</a></li>
          <li><a href="leitsatz.html">Leitsatz</a></li>
          <li><a href="galerie.html">Galerie</a></li>
          <li><a href="verein.html">Verein</a></li>
          <li><a href="vorstand.html">Vorstand</a></li>
          <li><a href="news.html">News</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero-Bereich -->
    <section class="hero">
      <div class="hero-overlay"></div>
      <div class="container hero-content" style="text-align: center; max-width: 900px; margin: 0 auto;">
        <h1>Willkommen beim Fischer-Verein Arbon</h1>
        <p style="font-size: 1.2rem; margin-bottom: 1rem;">
          Seit über <strong>125 Jahren</strong> sind wir Tradition am Bodensee. Als aktive Gemeinschaft 
          von passionierten Fischerinnen und Fischern verbinden wir die Liebe zur Natur mit 
          Kameradschaft und gegenseitigem Respekt.
        </p>
        <p style="font-size: 1.1rem; margin-bottom: 1rem;">
          Unser einmaliges Vereinsheim direkt am See ist seit fast <strong>50 Jahren</strong> der 
          Treffpunkt für alle, die die Fischerei am Bodensee schätzen.
        </p>
        <p style="font-size: 1.1rem;">
          Wir widmen uns der Förderung der Sportfischerei am Bodensee durch zahlreiche 
          <strong>Events über das ganze Jahr</strong> – vom Vereinsfischen über Wettbewerbe bis 
          hin zu Kursen und Jungfischer-Anlässen. Tradition, Gemeinschaft und Naturverbundenheit 
          stehen dabei im Mittelpunkt.
        </p>
      </div>
    </section>

    <!-- News / Aktuelles -->
    <section class="section" id="news">
      <div class="container">
        <h2>Aktuelles</h2>
        <div id="news-grid" class="card-grid">
          <div class="card" style="text-align: center; color: var(--color-muted);">
            <p>News werden geladen...</p>
          </div>
        </div>
        <div class="section-actions" style="margin-top: 2rem;">
          <a href="news.html" class="btn btn-outline">Alle News anzeigen</a>
        </div>
      </div>
    </section>

    <!-- Termine -->
    <section class="section section-alt" id="termine">
      <div class="container">
        <h2>Nächste Termine</h2>
        <div id="termine-timeline" class="timeline">
          <div class="timeline-item">
            <div class="timeline-date">...</div>
            <div class="timeline-content">
              <p style="color: var(--color-muted);">Termine werden geladen...</p>
            </div>
          </div>
        </div>

        <div class="section-actions">
          <a href="verein.html#jahreskalender" class="btn btn-outline">Zum Jahreskalender</a>
        </div>
      </div>
    </section>

    <!-- Über uns / Leitsatz -->
    <section class="section" id="ueber-uns">
      <div class="container two-column">
        <div>
          <h2>Über den Fischer-Verein Arbon</h2>
          <p>
            Der Fischer-Verein Arbon pflegt seit vielen Jahren die Fischerei am Bodensee,
            die Kameradschaft unter Fischerinnen und Fischern sowie den respektvollen Umgang
            mit Natur und Umwelt.
          </p>
          <p>
            Auf der Seite <strong>Leitsatz</strong> findet ihr unsere Grundsätze, mit denen wir uns
            für eine nachhaltige Fischerei einsetzen.
          </p>
          <a href="leitsatz.html" class="btn btn-secondary">Zum Leitsatz</a>
        </div>
        <div class="info-box">
          <h3>Seit 1899</h3>
          <p>Der Verein besteht seit 1899 – eine lange Tradition am Seeufer von Arbon.</p>
          <h3>Gemeinschaft</h3>
          <p>Ob am Wasser, im Fischerhaus oder bei Anlässen: die Gemeinschaft steht im Zentrum.</p>
        </div>
      </div>
    </section>

    <!-- Jungfischer -->
    <section class="section section-alt" id="jungfischer">
      <div class="container two-column">
        <div>
          <h2>Jungfischer</h2>
          <p>
            Für Kinder und Jugendliche bietet der Fischer-Verein Arbon ein abwechslungsreiches
            Programm rund um die Fischerei – mit Kursen, Ausflügen und gemeinsamen Fischen.
          </p>
          <p>
            In der Jungfischer-Galerie gibt es Eindrücke von vergangenen Anlässen.
          </p>
          <a href="jungfischer.html" class="btn btn-primary">Mehr zu den Jungfischern</a>
        </div>
        <div>
          <div class="highlight-box">
            <h3>Nächste Termine Jungfischer</h3>
            <div id="jungfischer-termine" style="margin-top: 1rem;">
              <p style="color: var(--color-muted); font-size: 0.9rem;">Termine werden geladen...</p>
            </div>
            <a href="jungfischer.html#kalender-jungfischer" class="btn btn-secondary" style="margin-top: 1rem; display: inline-block;">Zum Jungfischer-Kalender</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Fischerhaus -->
    <section class="section" id="fischerhaus">
      <div class="container two-column">
        <div>
          <h2>Fischerhaus</h2>
          <p>
            Das Fischerhaus des Vereins ist Treffpunkt für Mitglieder, Gäste und Anlässe.
            Öffnungszeiten, Reservationen und das Benutzerreglement findet ihr auf der
            Fischerhaus-Seite.
          </p>
          <a href="fischerhaus.html" class="btn btn-secondary">Zum Fischerhaus</a>
        </div>
        <div>
          <div class="highlight-box">
            <h3>Nächste Termine Fischerhaus</h3>
            <div id="fischerhaus-termine" style="margin-top: 1rem;">
              <p style="color: var(--color-muted); font-size: 0.9rem;">Termine werden geladen...</p>
            </div>
            <a href="fischerhaus.html#kalender-fischerhaus" class="btn btn-secondary" style="margin-top: 1rem; display: inline-block;">Zum Fischerhaus-Kalender</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Sponsoren -->
    <section class="section section-alt" id="sponsoren">
      <div class="container">
        <h2>Sponsoren</h2>
        <p class="section-intro">
          Der Fischer-Verein Arbon dankt seinen Sponsoren für die Unterstützung
          rund um Vereinsleben, Jungfischerarbeit und Anlässe am Bodensee.
        </p>

        <div class="sponsor-grid" style="margin-top: 1.5rem; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">

          <a href="https://www.tkb.ch" target="_blank" rel="noopener noreferrer" class="card sponsor-card" style="text-decoration: none;">
            <img src="assets/img/sponsoren/thurgauer-kantonalbank.png" alt="Thurgauer Kantonalbank" style="max-width: 180px; max-height: 90px;">
            <h3>Thurgauer Kantonalbank</h3>
          </a>

          <a href="https://www.kamisweinwelt.ch" target="_blank" rel="noopener noreferrer" class="card sponsor-card" style="text-decoration: none;">
            <img src="assets/img/sponsoren/weinhandlung-kammerlander.png" alt="Weinhandlung Kammerlander" style="max-width: 180px; max-height: 90px;">
            <h3>Weinhandlung Kammerlander</h3>
          </a>

          <a href="https://www.zumo-ag.ch" target="_blank" rel="noopener noreferrer" class="card sponsor-card" style="text-decoration: none;">
            <img src="assets/img/sponsoren/zumo-architektur.png" alt="Zumo Architektur &amp; Baurealisation" style="max-width: 180px; max-height: 90px;">
            <h3>Zumo Architektur &amp; Baurealisation</h3>
          </a>

          <a href="https://www.moehl.ch" target="_blank" rel="noopener noreferrer" class="card sponsor-card" style="text-decoration: none;">
            <img src="assets/img/sponsoren/moehl.png" alt="Möhl" style="max-width: 180px; max-height: 90px;">
            <h3>Mosterei Möhl</h3>
          </a>

          <a href="https://www.fischerei-bedarf.ch" target="_blank" rel="noopener noreferrer" class="card sponsor-card" style="text-decoration: none;">
            <img src="assets/img/sponsoren/schawalder-zellweger.png" alt="Ch. Schawalder &amp; J. Zellweger Fischereiartikel" style="max-width: 180px; max-height: 90px;">
            <h3>Ch. Schawalder &amp; J. Zellweger<br>Fischereiartikel</h3>
          </a>

          <a href="https://schifflaende-arbon.ch" target="_blank" rel="noopener noreferrer" class="card sponsor-card" style="text-decoration: none;">
            <img src="assets/img/sponsoren/schifflaende.png" alt="Restaurant Schifflände" style="max-width: 180px; max-height: 90px;">
            <h3>Restaurant Schifflände</h3>
          </a>

        </div>

        <style>
          .sponsor-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
          }
        </style>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-content">
      <div>
        <h3>Fischer-Verein Arbon</h3>
        <p>
          9320 Arbon<br>
          Bodensee, Schweiz
        </p>
        <p>
          <a href="mailto:vorstand@fv-arbon.ch">vorstand@fv-arbon.ch</a>
        </p>
      </div>
      <div>
        <h4>Links</h4>
        <ul>
          <li><a href="verein.html#jahreskalender">Jahreskalender</a></li>
          <li><a href="verein.html#statuten">Statuten</a></li>
          <li><a href="datenschutz.html">Datenschutzerklärung</a></li>
        </ul>
      </div>
      <div>
        <h4>Folgen</h4>
        <p>Hier können später Social-Media-Links ergänzt werden.</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; <span id="year"></span> Fischer-Verein Arbon. Alle Rechte vorbehalten.</p>
    </div>
  </footer>

  <!-- Modal/Lightbox für News -->
  <div id="news-modal" class="news-modal">
    <div class="news-modal-content">
      <button class="news-modal-close" aria-label="Schließen">&times;</button>
      <div id="modal-body"></div>
    </div>
  </div>

  <style>
    /* Modal/Lightbox Styles */
    .news-modal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .news-modal-content {
      background: #e0f0ff;
      padding: 2rem;
      border-radius: 15px;
      max-width: 800px;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      margin: 1rem;
      animation: slideIn 0.3s;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    @keyframes slideIn {
      from {
        transform: translateY(-50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .news-modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      font-size: 2rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #003366;
      line-height: 1;
      transition: all 0.2s;
      z-index: 10;
    }

    .news-modal-close:hover {
      background: white;
      transform: rotate(90deg);
    }

    @media (max-width: 768px) {
      .news-modal-content {
        padding: 1.5rem;
        margin: 0.5rem;
        max-height: 95vh;
      }
    }

    .news-card-home {
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .news-card-home:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }
  </style>

  <script src="assets/js/main.js"></script>
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }

    // News laden und anzeigen
    async function loadLatestNews() {
      try {
        const response = await fetch('https://api.github.com/repos/thomasbrauer777/fv-arbon-website/contents/content/news');
        const files = await response.json();
        
        const newsPromises = files
          .filter(file => file.name.endsWith('.md'))
          .map(async file => {
            const content = await fetch(file.download_url);
            const text = await content.text();
            return parseMarkdownFile(text);
          });

        let allNews = await Promise.all(newsPromises);
        allNews = allNews.filter(n => n.published !== false);
        allNews.sort((a, b) => new Date(b.date) - new Date(a.date));
        
        const latestNews = allNews.slice(0, 3);
        displayLatestNews(latestNews);
      } catch (error) {
        console.error("Fehler beim Laden der News:", error);
        document.getElementById("news-grid").innerHTML = '<div class="card"><p>News konnten nicht geladen werden.</p></div>';
      }
    }

    function parseMarkdownFile(text) {
      const lines = text.split('\n');
      const frontmatter = {};
      let inFrontmatter = false;
      let bodyLines = [];

      for (let i = 0; i < lines.length; i++) {
        if (lines[i].trim() === '---') {
          if (!inFrontmatter) {
            inFrontmatter = true;
          } else {
            inFrontmatter = false;
          }
          continue;
        }

        if (inFrontmatter) {
          const match = lines[i].match(/^(\w+):\s*(.+)$/);
          if (match) {
            const key = match[1];
            let value = match[2].trim();
            if (value.startsWith('"') && value.endsWith('"')) {
              value = value.slice(1, -1);
            }
            frontmatter[key] = value;
          }
        } else if (lines[i].trim()) {
          bodyLines.push(lines[i]);
        }
      }

      return {
        title: frontmatter.title || '',
        date: frontmatter.date || '',
        category: frontmatter.category || 'Sonstiges',
        teaser: frontmatter.teaser || '',
        body: bodyLines.join('\n'),
        image: frontmatter.image || '',
        url: frontmatter.url || '',
        published: frontmatter.published !== 'false'
      };
    }

    function formatDate(isoDateStr) {
      if (!isoDateStr) return "";
      const d = new Date(isoDateStr);
      const day = String(d.getDate()).padStart(2, '0');
      const month = String(d.getMonth() + 1).padStart(2, '0');
      const year = d.getFullYear();
      return `${day}.${month}.${year}`;
    }

    function markdownToHtml(markdown) {
      if (!markdown) return "";
      return markdown
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\*(.*?)\*/g, '<em>$1</em>')
        .replace(/\n\n/g, '</p><p>')
        .replace(/\n/g, '<br>');
    }

    function displayLatestNews(newsArray) {
      const container = document.getElementById("news-grid");
      
      if (newsArray.length === 0) {
        container.innerHTML = '<div class="card"><p>Aktuell keine News verfügbar.</p></div>';
        return;
      }

      container.innerHTML = '';

      newsArray.forEach(news => {
        const card = document.createElement('article');
        card.className = 'card news-card-home';
        
        card.addEventListener('click', () => openNewsModal(news));
        
        let html = '';
        
        if (news.image) {
          html += `<img src="${news.image}" alt="${news.title}" style="width: 100%; height: 180px; object-fit: cover; border-radius: 8px; margin-bottom: 1rem;">`;
        }
        
        html += `
          <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
            <span style="background: var(--color-primary); color: white; padding: 0.2rem 0.6rem; border-radius: 999px; font-size: 0.75rem; font-weight: 600;">${news.category}</span>
            <small style="color: var(--color-muted);">${formatDate(news.date)}</small>
          </div>
          <h3 style="margin: 0.5rem 0;">${news.title}</h3>
          <p>${news.teaser}</p>
          <span style="color: var(--color-primary-light); text-decoration: none; font-weight: 600; margin-top: 0.5rem; display: inline-block;">Weiterlesen →</span>
        `;
        
        card.innerHTML = html;
        container.appendChild(card);
      });
    }

    function openNewsModal(news) {
      const modal = document.getElementById("news-modal");
      const modalBody = document.getElementById("modal-body");

      let html = '';

      if (news.image) {
        html += `<img src="${news.image}" alt="${news.title}" style="width: 100%; max-height: 400px; object-fit: cover; border-radius: 10px; margin-bottom: 1.5rem;">`;
      }

      html += `
        <small style="color: #005288; font-size: 0.9rem;">${formatDate(news.date)} – ${news.category}</small>
        <h2 style="margin: 0.5rem 0 1rem; color: #003366;">${news.title}</h2>
        <p style="color: #003366; font-size: 1.1rem; margin-bottom: 1rem;"><strong>${news.teaser}</strong></p>
      `;

      if (news.body) {
        html += `<div style="color: #003366; line-height: 1.6;"><p>${markdownToHtml(news.body)}</p></div>`;
      }

      if (news.url) {
        html += `<a href="${news.url}" target="_blank" style="display: inline-block; margin-top: 1.5rem; padding: 0.7rem 1.5rem; background: #0047ab; color: white; text-decoration: none; border-radius: 5px; font-weight: bold;">Mehr erfahren →</a>`;
      }

      modalBody.innerHTML = html;
      modal.style.display = "flex";
      document.body.style.overflow = "hidden";
    }

    function closeNewsModal() {
      const modal = document.getElementById("news-modal");
      modal.style.display = "none";
      document.body.style.overflow = "auto";
    }

    document.querySelector('.news-modal-close').addEventListener('click', closeNewsModal);
    
    document.getElementById('news-modal').addEventListener('click', (e) => {
      if (e.target.id === 'news-modal') {
        closeNewsModal();
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeNewsModal();
      }
    });

    loadLatestNews();

    // === Google Calendar API Integration ===
    const CALENDAR_ID = 'b75aafd9ae1ba92fba28783e163e141d7a180adea6161538d03fb67284f83fe3@group.calendar.google.com';
    const API_KEY = 'AIzaSyAuZ9yzq2xzQK8HtWYil1HyyJDvYykxkso';

    async function loadUpcomingEvents() {
      try {
        const now = new Date().toISOString();
        const url = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(CALENDAR_ID)}/events?key=${API_KEY}&timeMin=${now}&maxResults=3&singleEvents=true&orderBy=startTime`;
        
        const response = await fetch(url);
        const data = await response.json();
        
        if (data.items && data.items.length > 0) {
          displayUpcomingEvents(data.items);
        } else {
          document.getElementById('termine-timeline').innerHTML = '<div class="timeline-item"><div class="timeline-content"><p>Aktuell keine anstehenden Termine.</p></div></div>';
        }
      } catch (error) {
        console.error('Fehler beim Laden der Termine:', error);
        document.getElementById('termine-timeline').innerHTML = '<div class="timeline-item"><div class="timeline-content"><p>Termine konnten nicht geladen werden.</p></div></div>';
      }
    }

    function displayUpcomingEvents(events) {
      const container = document.getElementById('termine-timeline');
      container.innerHTML = '';

      events.forEach(event => {
        const item = document.createElement('div');
        item.className = 'timeline-item';

        const startDate = event.start.dateTime || event.start.date;
        const date = new Date(startDate);
        
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const monthNames = ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'];
        const monthName = monthNames[date.getMonth()];
        
        const isAllDay = !event.start.dateTime;
        const timeStr = isAllDay ? '' : ` ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;

        item.innerHTML = `
          <div class="timeline-date">${day}. ${monthName}</div>
          <div class="timeline-content">
            <h3>${event.summary || 'Termin'}</h3>
            ${timeStr ? `<p style="color: var(--color-muted); margin: 0.25rem 0;"><strong>Uhrzeit:</strong> ${timeStr} Uhr</p>` : ''}
            ${event.description ? `<p>${event.description}</p>` : ''}
            ${event.location ? `<p style="color: var(--color-muted); margin-top: 0.5rem;"><strong>Ort:</strong> ${event.location}</p>` : ''}
          </div>
        `;

        container.appendChild(item);
      });
    }

    loadUpcomingEvents();

    // === Fischerhaus Kalender ===
    const FISCHERHAUS_CALENDAR_ID = 'gbsmb65pgvs7p3nlu4u7mdhmeo@group.calendar.google.com';

    async function loadFischerhausEvents() {
      try {
        const now = new Date().toISOString();
        const url = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(FISCHERHAUS_CALENDAR_ID)}/events?key=${API_KEY}&timeMin=${now}&maxResults=3&singleEvents=true&orderBy=startTime`;
        
        const response = await fetch(url);
        const data = await response.json();
        
        if (data.items && data.items.length > 0) {
          displayCalendarEvents(data.items, 'fischerhaus-termine');
        } else {
          document.getElementById('fischerhaus-termine').innerHTML = '<p style="color: var(--color-muted); font-size: 0.9rem;">Aktuell keine anstehenden Termine.</p>';
        }
      } catch (error) {
        console.error('Fehler beim Laden der Fischerhaus-Termine:', error);
        document.getElementById('fischerhaus-termine').innerHTML = '<p style="color: var(--color-muted); font-size: 0.9rem;">Termine konnten nicht geladen werden.</p>';
      }
    }

    // === Jungfischer Kalender ===
    const JUNGFISCHER_CALENDAR_ID = '54e1a459397ff508ddb60fb978be2a14a8d23aae9ce5eeac00f34c2585469607@group.calendar.google.com';

    async function loadJungfischerEvents() {
      try {
        const now = new Date().toISOString();
        const url = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(JUNGFISCHER_CALENDAR_ID)}/events?key=${API_KEY}&timeMin=${now}&maxResults=3&singleEvents=true&orderBy=startTime`;
        
        const response = await fetch(url);
        const data = await response.json();
        
        if (data.items && data.items.length > 0) {
          displayCalendarEvents(data.items, 'jungfischer-termine');
        } else {
          document.getElementById('jungfischer-termine').innerHTML = '<p style="color: var(--color-muted); font-size: 0.9rem;">Aktuell keine anstehenden Termine.</p>';
        }
      } catch (error) {console.error('Fehler beim Laden der Jungfischer-Termine:', error);
    document.getElementById('jungfischer-termine').innerHTML = '<p style="color: var(--color-muted); font-size: 0.9rem;">Termine konnten nicht geladen werden.</p>';
  }
}

function displayCalendarEvents(events, containerId) {
  const container = document.getElementById(containerId);
  container.innerHTML = '';

  events.forEach(event => {
    const startDate = event.start.dateTime || event.start.date;
    const date = new Date(startDate);
    
    const day = String(date.getDate()).padStart(2, '0');
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const year = date.getFullYear();
    
    const isAllDay = !event.start.dateTime;
    const timeStr = isAllDay ? '' : ` ${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')} Uhr`;

    const item = document.createElement('div');
    item.style.padding = '0.75rem 0';
    item.style.borderBottom = '1px solid rgba(255,255,255,0.1)';
    
    item.innerHTML = `
      <p style="margin: 0; font-weight: 600; color: var(--color-text);">${event.summary || 'Termin'}</p>
      <p style="margin: 0.25rem 0 0 0; font-size: 0.85rem; color: var(--color-muted);">
        ${day}.${month}.${year}${timeStr}
      </p>
    `;

    container.appendChild(item);
  });

  const lastItem = container.lastElementChild;
  if (lastItem) lastItem.style.borderBottom = 'none';
}

loadFischerhausEvents();
loadJungfischerEvents();
