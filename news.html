<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fischer-Verein Arbon</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container nav-container">
      <a href="index.html" class="logo">
        <img src="assets/img/logo-fv-arbon.png" alt="Logo Fischer-Verein Arbon">
      </a>

      <button class="nav-toggle" aria-label="Menü öffnen">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Startseite</a></li>
          <li><a href="beitritt.html">Beitritt</a></li>
          <li><a href="fischerhaus.html">Fischerhaus</a></li>
          <li><a href="jungfischer.html">Jungfischer</a></li>
          <li><a href="leitsatz.html">Leitsatz</a></li>
          <li><a href="galerie.html">Galerie</a></li>
          <li><a href="verein.html">Verein</a></li>
          <li><a href="vorstand.html">Vorstand</a></li>
          <li><a href="news.html">News</a></li>
        </ul>
      </nav>
    </div>
  </header>
<main class="news-page container" style="padding: 2rem 1rem 3rem;">
  <h1>News & Aktuelles</h1>
  <p>Hier findest du aktuelle Meldungen und Ankündigungen vom Fischerverein Arbon.</p>

  <div id="category-filters" class="news-filters" style="margin: 1rem 0; display: flex; flex-wrap: wrap; gap: 0.5rem;"></div>
  <div id="news-container" class="news-container"></div>
</main>

<script>
  async function loadNews() {
    const response = await fetch("https://script.google.com/macros/s/AKfycbwtRNGyzUl4PXVKDfGlZ-CU-hGShlsBFrj0XUXrhEULfzukpBlF6D5dpMUQjdLWM2jN/exec");
    const data = await response.json();

    const container = document.getElementById("news-container");
    const filters = document.getElementById("category-filters");
    const categories = [...new Set(data.map(n => n.Kategorie).filter(Boolean))];

    filters.innerHTML = '<button onclick="filterNews(\'Alle\')" class="news-filter-button">Alle</button>' +
      categories.map(cat => `<button onclick="filterNews('${cat}')" class="news-filter-button">${cat}</button>`).join("");

    window.filterNews = function (category) {
      const cards = document.querySelectorAll(".news-card");
      cards.forEach(card => {
        if (category === "Alle" || card.dataset.category === category) {
          card.style.display = "flex";
        } else {
          card.style.display = "none";
        }
      });
    }

    data.forEach(news => {
      const card = document.createElement("article");
      card.className = "news-card";
      card.dataset.category = news.Kategorie || "Sonstiges";

      card.innerHTML = `
        ${news["Bild-URL"] ? `<img src="${news["Bild-URL"]}" alt="${news.Titel}">` : ""}
        <div class="news-card-content">
          <small>${news.Datum} – ${news.Kategorie || ""}</small>
          <h2>${news.Titel}</h2>
          <p>${news.Teaser}</p>
          ${news.URL ? `<a href="${news.URL}" target="_blank">Mehr erfahren</a>` : ""}
        </div>
      `;
      container.appendChild(card);
    });
  }

  loadNews();
</script>

<style>
  .news-filter-button {
    border: 1px solid #ccc;
    background: #f8f8f8;
    padding: 0.4rem 0.9rem;
    font-size: 0.9rem;
    cursor: pointer;
    border-radius: 5px;
  }
  .news-filter-button:hover {
    background: #e0e0e0;
  }

  .news-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  .news-card {
    background-color: #e0f0ff;
    color: #003366;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .news-card img {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }

  .news-card-content {
    padding: 1rem;
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .news-card-content h2 {
    margin: 0.3rem 0 0.5rem;
    font-size: 1.2rem;
  }

  .news-card-content small {
    color: #005288;
  }

  .news-card-content a {
    margin-top: auto;
    color: #0047ab;
    text-decoration: underline;
    font-weight: bold;
  }

  .news-card-content a:hover {
    text-decoration: none;
  }
</style>

<footer class="site-footer">
    <div class="container footer-content">
      <div>
        <h3>Fischer-Verein Arbon</h3>
        <p>
          9320 Arbon<br>
          Bodensee, Schweiz
        </p>
        <p>
          <a href="mailto:info@fv-arbon.ch">info@fv-arbon.ch</a>
        </p>
      </div>
      <div>
        <h4>Links</h4>
        <ul>
          <li><a href="verein.html#jahreskalender">Jahreskalender</a></li>
          <li><a href="verein.html#statuten">Statuten</a></li>
          <li><a href="datenschutz.html">Datenschutzerklärung</a></li>
        </ul>
      </div>
      <div>
        <h4>Folgen</h4>
        <p>Hier können später Social-Media-Links ergänzt werden.</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; <span id="year"></span> Fischer-Verein Arbon. Alle Rechte vorbehalten.</p>
    </div>
  </footer>

  <script src="assets/js/main.js"></script>
</body>
</html>

</body>
</html>
