<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fischer-Verein Arbon</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container nav-container">
      <a href="index.html" class="logo">
        <img src="assets/img/logo-fv-arbon.png" alt="Logo Fischer-Verein Arbon">
      </a>

      <button class="nav-toggle" aria-label="Menü öffnen">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Startseite</a></li>
          <li><a href="beitritt.html">Beitritt</a></li>
          <li><a href="fischerhaus.html">Fischerhaus</a></li>
          <li><a href="jungfischer.html">Jungfischer</a></li>
          <li><a href="leitsatz.html">Leitsatz</a></li>
          <li><a href="galerie.html">Galerie</a></li>
          <li><a href="verein.html">Verein</a></li>
          <li><a href="vorstand.html">Vorstand</a></li>
          <li><a href="news.html">News</a></li>
        </ul>
      </nav>
    </div>
  </header>

<main class="news-page container" style="padding: 2rem 1rem 3rem;">
  <h1>News & Aktuelles</h1>
  <p>Hier findest du alle Neuigkeiten rund um den Fischerverein Arbon.</p>

  <div id="news-container" class="news-container" style="display: grid; gap: 1.5rem; margin-top: 2rem;"></div>
</main>

<script>
  async function loadNewsFromGoogleSheet() {
    const url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRjKXRid4OW4swxV63LSgAj2g0eL2xWeZ5R_HRdqvCMLHFV3bRqJXJjcjlwDvPI_O3HYVDkVwvFKoD_/pub?output=tsv";
    const response = await fetch(url);
    const text = await response.text();

    const lines = text.trim().split("\n");
    const headers = lines[0].split("\t");

    const container = document.getElementById("news-container");

    for (let i = 1; i < lines.length; i++) {
      const cols = lines[i].split("\t");
      const newsItem = {};
      headers.forEach((h, idx) => newsItem[h.trim()] = cols[idx] || "");

      const article = document.createElement("article");
      article.className = "news-item";
      article.style.borderBottom = "1px solid #ddd";
      article.style.paddingBottom = "1rem";

      const date = newsItem["Datum"] || "";
      const title = newsItem["Titel"] || "";
      const text = newsItem["Text"] || "";
      const image = newsItem["Bild"] || "";

      article.innerHTML = `
        <h2 style="margin-bottom: 0.3rem;">${title}</h2>
        ${date ? `<small style="color:#888;">${date}</small>` : ""}
        ${image ? `<div><img src="${image}" alt="" style="max-width:100%;margin:1rem 0;border-radius:8px;"></div>` : ""}
        <p>${text}</p>
      `;
      container.appendChild(article);
    }
  }

  loadNewsFromGoogleSheet();
</script>

<footer class="site-footer">
    <div class="container footer-content">
      <div>
        <h3>Fischer-Verein Arbon</h3>
        <p>
          9320 Arbon<br>
          Bodensee, Schweiz
        </p>
        <p>
          <a href="mailto:info@fv-arbon.ch">info@fv-arbon.ch</a>
        </p>
      </div>
      <div>
        <h4>Links</h4>
        <ul>
          <li><a href="verein.html#jahreskalender">Jahreskalender</a></li>
          <li><a href="verein.html#statuten">Statuten</a></li>
          <li><a href="datenschutz.html">Datenschutzerklärung</a></li>
        </ul>
      </div>
      <div>
        <h4>Folgen</h4>
        <p>Hier können später Social-Media-Links ergänzt werden.</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; <span id="year"></span> Fischer-Verein Arbon. Alle Rechte vorbehalten.</p>
    </div>
  </footer>

  <script src="assets/js/main.js"></script>
</body>
</html>

</body>
</html>
